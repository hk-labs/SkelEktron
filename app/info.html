<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Application Info</title>
    <link rel="stylesheet" href="assets/css/app.css">
    <script>
      //noinspection NpmUsedModulesInstalled
      const electron = require('electron');
      const pjson = require('../package.json');
      const config = require('./config');
      const ipc = electron.ipcRenderer;
    </script>
  </head>
  <body>
    <div class="container">
      <header>
        <h1><script>document.write(electron.remote.app.getName())</script></h1>
        <h2>Version <script>document.write(pjson.version)</script></h2>
      </header>
      <section class="main">
        <ul>
          <li>
            <strong>Platform</strong>:
            <script>document.write(process.platform)</script>
          </li>
          <li>
            <strong>Architecture</strong>:
            <script>document.write(process.arch)</script></li>
          <li>
            <strong>OS Release</strong>:
            <script>document.write(require('os').release())</script>
          </li>
          <li>
            <strong>Main URL</strong>:
            <script>document.write(config.mainWindow.url || 'N.A.')</script>
          </li>
          <li>
            <strong>Updates URL</strong>:
            <script>document.write((config.update && config.update.url) ? config.update.url : 'N.A.')</script>
          </li>
          <li>
            <strong>Node</strong>:
            <script>document.write(process.versions.node)</script>
          </li>
          <li>
            <strong>Chrome</strong>:
            <script>document.write(process.versions.chrome)</script>
          </li>
          <li>
            <strong>Electron Runtime</strong>:
            <script>document.write(process.versions.electron)</script>
          </li>
          <li>
            <strong>Memory Usage</strong>:
            <script>document.write((Math.floor(process.memoryUsage().rss / (1024 * 1024))) + ' MB')</script>
          </li>
          <li>
            <strong>Debug Mode</strong>:
            <script>document.write(config.debug)</script>
          </li>
        </ul>
      </section>

      <section class="printer-list">
        <h2>Available Printers</h2>
        <div id="printers">
          <p>Searching for printers...</p>
        </div>
      </section>

      <footer>
        <p>
          <small>Â© 2017 HKLabs</small>
        </p>
      </footer>
      <p><a class="ui-text" id="close" href="javascript:window.close()">Close</a></p>
    </div>
  </body>
  <script>
    require('./assets/js/ex-links');

    // Uncomment below to enable printer management
    //require('./assets/js/printers.js');
  </script>
</html>
